% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{dvipsnames,svgnames,x11names}{xcolor}
%
\documentclass[
  letterpaper,
  DIV=11,
  numbers=noendperiod]{scrreprt}

\usepackage{amsmath,amssymb}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else  
    % xetex/luatex font selection
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\setlength{\emergencystretch}{3em} % prevent overfull lines
\setcounter{secnumdepth}{5}
% Make \paragraph and \subparagraph free-standing
\ifx\paragraph\undefined\else
  \let\oldparagraph\paragraph
  \renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
  \let\oldsubparagraph\subparagraph
  \renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi


\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother

\KOMAoption{captions}{tableheading}
\makeatletter
\@ifpackageloaded{tcolorbox}{}{\usepackage[skins,breakable]{tcolorbox}}
\@ifpackageloaded{fontawesome5}{}{\usepackage{fontawesome5}}
\definecolor{quarto-callout-color}{HTML}{909090}
\definecolor{quarto-callout-note-color}{HTML}{0758E5}
\definecolor{quarto-callout-important-color}{HTML}{CC1914}
\definecolor{quarto-callout-warning-color}{HTML}{EB9113}
\definecolor{quarto-callout-tip-color}{HTML}{00A047}
\definecolor{quarto-callout-caution-color}{HTML}{FC5300}
\definecolor{quarto-callout-color-frame}{HTML}{acacac}
\definecolor{quarto-callout-note-color-frame}{HTML}{4582ec}
\definecolor{quarto-callout-important-color-frame}{HTML}{d9534f}
\definecolor{quarto-callout-warning-color-frame}{HTML}{f0ad4e}
\definecolor{quarto-callout-tip-color-frame}{HTML}{02b875}
\definecolor{quarto-callout-caution-color-frame}{HTML}{fd7e14}
\makeatother
\makeatletter
\@ifpackageloaded{bookmark}{}{\usepackage{bookmark}}
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\AtBeginDocument{%
\ifdefined\contentsname
  \renewcommand*\contentsname{Table of contents}
\else
  \newcommand\contentsname{Table of contents}
\fi
\ifdefined\listfigurename
  \renewcommand*\listfigurename{List of Figures}
\else
  \newcommand\listfigurename{List of Figures}
\fi
\ifdefined\listtablename
  \renewcommand*\listtablename{List of Tables}
\else
  \newcommand\listtablename{List of Tables}
\fi
\ifdefined\figurename
  \renewcommand*\figurename{Figure}
\else
  \newcommand\figurename{Figure}
\fi
\ifdefined\tablename
  \renewcommand*\tablename{Table}
\else
  \newcommand\tablename{Table}
\fi
}
\@ifpackageloaded{float}{}{\usepackage{float}}
\floatstyle{ruled}
\@ifundefined{c@chapter}{\newfloat{codelisting}{h}{lop}}{\newfloat{codelisting}{h}{lop}[chapter]}
\floatname{codelisting}{Listing}
\newcommand*\listoflistings{\listof{codelisting}{List of Listings}}
\makeatother
\makeatletter
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\@ifpackageloaded{subcaption}{}{\usepackage{subcaption}}
\makeatother
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\usepackage{bookmark}

\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same} % disable monospaced font for URLs
\hypersetup{
  pdftitle={Data 100 Debugging Guide},
  pdfauthor={Yash Dave; Lillian Weng},
  colorlinks=true,
  linkcolor={blue},
  filecolor={Maroon},
  citecolor={Blue},
  urlcolor={Blue},
  pdfcreator={LaTeX via pandoc}}

\title{Data 100 Debugging Guide}
\author{Yash Dave \and Lillian Weng}
\date{}

\begin{document}
\maketitle

\renewcommand*\contentsname{Table of contents}
{
\hypersetup{linkcolor=}
\setcounter{tocdepth}{2}
\tableofcontents
}
\bookmarksetup{startatroot}

\chapter*{About}\label{about}
\addcontentsline{toc}{chapter}{About}

\markboth{About}{About}

This text offers pointers for keyboard shortcuts or common mistakes that
accompany the coursework in the Spring 2024 Edition of the UC Berkeley
course Data 100: Principles and Techniques of Data Science.

Inspiration for this guide was taken from the UC San Diego course DSC
10: Principles of Data Science and their
\href{https://dsc10.com/debugging/}{debugging guide}.

If you spot any typos or would like to suggest any changes, please email
us at \textbf{data100.instructors@berkeley.edu}

\bookmarksetup{startatroot}

\chapter{Jupyter Shortcuts}\label{jupyter-shortcuts}

\begin{tcolorbox}[enhanced jigsaw, colback=white, colframe=quarto-callout-note-color-frame, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Note}, titlerule=0mm, toprule=.15mm, left=2mm, colbacktitle=quarto-callout-note-color!10!white, toptitle=1mm, coltitle=black, breakable, opacitybacktitle=0.6, bottomrule=.15mm, opacityback=0, bottomtitle=1mm, rightrule=.15mm, arc=.35mm, leftrule=.75mm]

If you're using a MacBook, replace \texttt{ctrl} with \texttt{cmd}.

\end{tcolorbox}

\section{Shortcuts for Cells}\label{shortcuts-for-cells}

For the following commands, make sure you're in command mode. You can
enter this mode by pressing \texttt{esc}.

\begin{itemize}
\tightlist
\item
  \texttt{a}: create a cell above
\item
  \texttt{b}: create a cell below
\item
  \texttt{dd}: delete current cell
\item
  \texttt{m}: convert a cell to markdown (text cell)
\item
  \texttt{y}: convert a cell to code
\end{itemize}

\section{Running Cells}\label{running-cells}

For individual cells,

\begin{itemize}
\tightlist
\item
  \texttt{ctrl} + \texttt{return}: run the current cell
\item
  \texttt{shift} + \texttt{return}: run the current cell and move to the
  next cell
\end{itemize}

To run all cells in a notebook:

\begin{itemize}
\item
  In the menu bar on the left, click \texttt{Run}. From here, you have
  several options. The ones we use most commonly are:

  \begin{itemize}
  \tightlist
  \item
    \texttt{Run\ All\ Above\ Selected\ Cell}: this runs every cell above
    the selected cell
  \item
    \texttt{Run\ Selected\ Cell\ and\ All\ Below}: this runs the
    selected cell and all cells below
  \item
    \texttt{Run\ All}: this runs every cell in the notebook from
    top-to-bottom
  \end{itemize}
\end{itemize}

\section{Saving your notebook}\label{saving-your-notebook}

Jupyter autosaves your work, but there can be a delay. As such, it's a
good idea to save your work as often as you remember and especially
before submitting assignments. To do so, press \texttt{ctrl} +
\texttt{s}.

\section{Restarting Kernel}\label{restarting-kernel}

In the menu bar on the left, click \texttt{Kernel}. From here, you have
several options. The ones we use most commonly are:

\begin{itemize}
\tightlist
\item
  \texttt{Restart\ Kernel...}
\item
  \texttt{Restart\ Kernel\ and\ Run\ up\ to\ Selected\ Cell}
\item
  \texttt{Restart\ Kernel\ and\ Run\ All\ Cells}
\end{itemize}

\bookmarksetup{startatroot}

\chapter{Jupyter / Datahub}\label{jupyter-datahub}

\section{My kernel died, restarted, or is very
slow}\label{my-kernel-died-restarted-or-is-very-slow}

Jupyterhub connects you to an external container to run your code. That
connection could be slow/severed because:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  you haven't made any changes to the notebook for a while
\item
  a cell took too much time to run
\item
  a cell took up too many resources to compute
\end{enumerate}

When you see a message like this:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Either press the ``Ok'' button or reload the page
\item
  \href{https://ds100.org/debugging-guide/jupyter_shortcuts/jupyter_shortcuts.html\#restarting-kernel}{Restart
  your kernel}
\item
  \href{https://ds100.org/debugging-guide/jupyter_shortcuts/jupyter_shortcuts.html\#running-cells}{Rerun
  your cells}
\end{enumerate}

Note that you may loose some recent work if your kernel restarted when
you were in the middle of editing a cell. As such, we recommend
\href{https://ds100.org/debugging-guide/jupyter_shortcuts/jupyter_shortcuts.html/saving-your-notebook}{saving
your work} as often as possible.

If this does not fix the issue, it could be a problem with your code,
usually the last cell that executed before your kernel crashed. Double
check your logic, and feel free to make a private post on Ed if you're
stuck!

\section{I can't edit a cell}\label{i-cant-edit-a-cell}

We set some cells to read-only mode prevent accidental modification. To
make the cell writeable,

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Click the cell
\item
  Click setting on the top right corner
\item
  Under ``Common Tools'', you can toggle between ``Editable'' (can edit
  the cell) and ``Read-Only'' (cannot edit the cell)
\end{enumerate}

\section{My text cell looks like
code}\label{my-text-cell-looks-like-code}

If you double-click on a text (markdown) cell, it'll appear in its raw
format. To fix this, simply run the cell. If this doesn't fix the
problem, check out the commonly asked question below.

\section{My text cell changed to a code cell / My code cell changed to a
text
cell}\label{my-text-cell-changed-to-a-code-cell-my-code-cell-changed-to-a-text-cell}

Sometimes, a text (markdown) cell was changed to a code cell, or a code
cell can't be run because it's been changed to a text (markdown) or raw
cell. To fix this, toggle the desired cell type in the top bar.

\section{Why does running a particular cell cause my kernel to
die?}\label{why-does-running-a-particular-cell-cause-my-kernel-to-die}

If one particular cell seems to cause your kernel to die, this is likely
because the computer is trying to use more memory than it has available.
For instance: your code is trying to create a gigantic array. To prevent
the entire server from crashing, the kernel will ``die''. This is an
indication that there is a mistake in your code that you need to fix.

\section{``Click here to download zip file'' is not
working}\label{click-here-to-download-zip-file-is-not-working}

When this happens, you can download the zip file through the menu on the
left.

Right click on the generated zip file and click ``Download''.

\section{\texorpdfstring{I can't export my assignment as a PDF due to a
\texttt{LatexFailed}
error}{I can't export my assignment as a PDF due to a LatexFailed error}}\label{i-cant-export-my-assignment-as-a-pdf-due-to-a-latexfailed-error}

Occasionally when running the \texttt{grader.export(run\_tests=True)}
cell at the end of the notebook, you run into an error where the PDF
failed to generate:

Converting a Jupyter notebook to a PDF involves formatting some of the
markdown text in \href{https://www.latex-project.org/}{LaTeX}. However,
this process will fail if your free response answers have (unresolved)
LaTeX characters like \texttt{\textbackslash{}n}, \texttt{\$}, or
\texttt{\$\$}. If you're short on time, your best bet is to take
screenshots of your free response answers and submit them to Gradescope.
If you have more time and would like the Datahub-generated PDF, please
remove any special LaTeX characters from your free response answers.

\bookmarksetup{startatroot}

\chapter{Autograder and Gradescope}\label{autograder-and-gradescope}

Citation

Many of these common questions were taken and modified from the UC San
Diego course DSC 10: Principles of Data Science and their
\href{https://dsc10.com/debugging/}{debugging guide}.

\section{Autograder}\label{autograder}

\subsection{Understanding autograder error
messages}\label{understanding-autograder-error-messages}

When you pass a test, you'll see a nice, concise message and a cute
emoji!

When you don't, however, the message can be a little confusing.

The best course of action is to find the test case that failed and use
that as a starting point to debug your code.

\subsection{\texorpdfstring{Why do I get an error saying
``\texttt{grader\ is\ not\ defined}''?}{Why do I get an error saying ``grader is not defined''?}}\label{why-do-i-get-an-error-saying-grader-is-not-defined}

If it has been a while since you've worked on an assignment, the kernel
will shut itself down to preserve memory. When this happens, all of your
variables are forgotten, including the grader. That's OK. The easiest
way to fix this is by
\href{https://ds100.org/debugging-guide/jupyter_shortcuts/jupyter_shortcuts.html\#restarting-kernel}{restarting
your kernel and rerunning all the cells}. To do this, in the top left
menu, click \texttt{Kernel} -\textgreater{}
\texttt{Restart\ and\ Run\ All\ Cells}.

\subsection{I'm positive I have the right answer, but the test fails. Is
there a mistake in the
test?}\label{im-positive-i-have-the-right-answer-but-the-test-fails.-is-there-a-mistake-in-the-test}

While you might see the correct answer displayed as the result of the
cell, chances are your solution isn't being stored in the answer
variable. Make sure you are assigning the result to the answer variable
and that there are no typos in the variable name. Finally,
\href{https://ds100.org/debugging-guide/jupyter_shortcuts/jupyter_shortcuts.html\#restarting-kernel}{restart
your kernel and run all the cells in order}: \texttt{Kernel}
-\textgreater{} \texttt{Restart\ and\ Run\ All\ Cells}.

\subsection{\texorpdfstring{Why does
\texttt{grader.export(run\_tests=True)} fail if all previous tests
passed?}{Why does grader.export(run\_tests=True) fail if all previous tests passed?}}\label{why-does-grader.exportrun_teststrue-fail-if-all-previous-tests-passed}

This can happen if you ``overwrite'' a variable that is used in a
question. For instance, say Question 1 asks you to store your answer in
a variable named \texttt{stat} and, later on in the notebook, you change
the value of \texttt{stat}; the test right after Question 1 will pass,
but the test at the end of the notebook will fail. It is good
programming practice to give your variables informative names and to
avoid repeating the same variable name for more than one purpose.

\subsection{Why does a notebook test fail now when it passed before, and
I didn't change my
code?}\label{why-does-a-notebook-test-fail-now-when-it-passed-before-and-i-didnt-change-my-code}

You probably ran your notebook out of order.
\href{https://ds100.org/debugging-guide/jupyter_shortcuts/jupyter_shortcuts.html\#running-cells}{Re-run
all previous cells} in order, which is how your code will be graded.

\subsection{I accidentally deleted something in a cell that was provided
to me -- how do I get it
back?}\label{i-accidentally-deleted-something-in-a-cell-that-was-provided-to-me-how-do-i-get-it-back}

Suppose you're working on Lab 5. One solution is to go directly to
DataHub and rename your lab05 folder to something else, like lab05-old.
Then, click the Lab 5 link on the course website again, and it'll bring
you to a brand-new version of Lab 5. You can then copy your work from
your old Lab 5 to this new one, which should have the original version
of the assignment.

Alternatively, you can access this
\href{https://github.com/DS-100/sp24-student}{public repo} and navigate
to a blank copy of the assignment you were working on. In the case of
Lab 5 for example, the notebook would be located at
\texttt{lab/lab05/lab05.ipynb}. You can then check and copy over the
contents of the deleted cell into a new cell in your existing notebook.

\section{Gradescope}\label{gradescope}

When submitting to Gradescope, there are often unexpected errors that
make students lose more points than expected. Thus, it is imperative
that you \textbf{stay on the submission page until the autograder
finishes running}, and the results are displayed.

\subsection{Why did a Gradescope test fail when all the Jupyter
notebook's tests
passed?}\label{why-did-a-gradescope-test-fail-when-all-the-jupyter-notebooks-tests-passed}

This can happen if you're running your notebook's cells out of order.
The autograder runs your notebook from top-to-bottom. If you're defining
a variable at the bottom of your notebook and using it at the top, the
Gradescope autograder will fail because it doesn't recognize the
variable when it encounters it.

This is why we recommend going into the top left menu and clicking
\texttt{Kernel} -\textgreater{} \texttt{Restart} -\textgreater{}
\texttt{Run\ All}. The autograder ``forgets'' all of the variables and
runs the notebook from top-to-bottom like the Gradescope autograder
does. This will highlight any issues.

Find the first cell that raises an error. Make sure that all of the
variables used in that cell have been defined above that cell, and not
below.

\subsection{\texorpdfstring{Why do I get a
\texttt{NameError:\ name\ \_\_\_\ is\ not\ defined} when I run a grader
check?}{Why do I get a NameError: name \_\_\_ is not defined when I run a grader check?}}\label{why-do-i-get-a-nameerror-name-___-is-not-defined-when-i-run-a-grader-check}

This happens when you try to access a variable that has not been defined
yet. Since the autograder runs all the cells in-order, if you happened
to define a variable in a cell further down and accessed it before that
cell, the autograder will likely throw this error. Another reason this
could occur is because the notebook was not saved before the autograder
tests are run. When in doubt, it is good practice to restart your
kernel, run all the cells again, and save the notebook before running
the cell that causes this error.

\subsection{My autograder keeps running/timed
out}\label{my-autograder-keeps-runningtimed-out}

If your Gradescope submission page has been stuck running on this page
for a while:

or if it times out:

it means that the Gradescope autograder failed to execute in the
expected amount of time. This could be due to an inefficiency in your
code or a problem on Gradescope's end, so we recommend resubmitting and
letting the autograder rerun. \textbf{It is your responsibility to
ensure that the autograder runs properly}, and, if it still fails, to
follow up by making a private Ed post.

\bookmarksetup{startatroot}

\chapter{Pandas}\label{pandas}

\section{\texorpdfstring{Understanding
\texttt{pandas}}{Understanding pandas}}\label{understanding-pandas}

\texttt{pandas} errors can look red, scary, and very long. Fortunately,
we don't need to understand the entire thing! The most important parts
of an error message are at the \textbf{top}, which tells you which line
of code is causing the issue, and at the \textbf{bottom}, which tells
you exactly what the error message is.

This note is (mostly) structured around the error messages that show up
at the bottom.

\section{My code is taking a really long time to
run}\label{my-code-is-taking-a-really-long-time-to-run}

It is normal for a cell to take a few seconds -- sometimes a few minutes
-- to run. If it's is taking too long, however, you have several
options:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Try restarting the kernel. Sometimes, Datahub glitches or lags,
  causing the code to run slower than expected.
  \href{https://ds100.org/debugging-guide/jupyter_shortcuts/jupyter_shortcuts.html\#restarting-kernel}{Restarting
  the kernel} should fix this problem, but if the cell is still taking a
  while to run, it is likely a problem with your code.
\item
  Scrutinize your code. Am I using too many for loops? Is there a
  repeated operation that I can substitute with a \texttt{pandas}
  function?
\end{enumerate}

\section{Why is it generally better avoid using loops or list
comprehensions when
possible?}\label{why-is-it-generally-better-avoid-using-loops-or-list-comprehensions-when-possible}

In one word: performance. \texttt{NumPy} and \texttt{pandas} functions
are optimized to handle large amounts of data in an efficient manner.
Even for simple operations, like the elementwise addition of two arrays,
\texttt{NumPy} arrays are much faster and scale better (feel free to
experiment with this yourself using \texttt{\%\%time}). This is why we
encourage you to \textbf{vectorize} your code (ie. using \texttt{NumPy}
arrays, \texttt{Series}, or \texttt{DataFrames} instead of Python lists)
and use in-built \texttt{NumPy}/\texttt{pandas} functions wherever
possible.

\section{KeyErrors}\label{keyerrors}

\subsection{\texorpdfstring{\texttt{KeyError:\ \textquotesingle{}column\_name\textquotesingle{}}}{KeyError: \textquotesingle column\_name\textquotesingle{}}}\label{keyerror-column_name}

This error usually happens when we have a \texttt{DataFame} called
\texttt{df}, and we're trying to do an operation on a column
\texttt{\textquotesingle{}column\_name\textquotesingle{}} that does not
exist. If you encounter this error, double check that you're operating
on the right column. It might be a good idea to display \texttt{df} and
see what it looks like. You could also call \texttt{df.columns} to list
all the columns in \texttt{df}.

\section{TypeErrors}\label{typeerrors}

\subsection{\texorpdfstring{\texttt{TypeError:\ \textquotesingle{}\_\_\_\textquotesingle{}\ object\ is\ not\ callable}}{TypeError: \textquotesingle\_\_\_\textquotesingle{} object is not callable}}\label{typeerror-___-object-is-not-callable}

This often happens when you use a default keyword (like \texttt{str},
\texttt{list}, \texttt{range}, \texttt{sum}, or \texttt{max}) as a
variable name, for instance:

\begin{verbatim}
sum = 1 + 2 + 3
\end{verbatim}

These errors can be tricky because they don't error on their own but
cause problems when we try to use the name \texttt{sum} (for example)
later on in the notebook.

To fix the issue, identify any such lines of code, change your variable
names to be something more informative, and
\href{https://ds100.org/debugging-guide/jupyter_shortcuts/jupyter_shortcuts.html\#restarting-kernel}{restart
your notebook}.

Python keywords like \texttt{str} and \texttt{list} appear in green
text, so be on the lookout if any of your variable names appear in
green!

\subsection{\texorpdfstring{\texttt{TypeError:\ could\ not\ convert\ string\ to\ a\ float}}{TypeError: could not convert string to a float}}\label{typeerror-could-not-convert-string-to-a-float}

This error often occurs when we try to do math operations (ie.
\texttt{sum}, \texttt{average}, \texttt{min}, \texttt{max}) on a
\texttt{DataFrame} column or \texttt{Series} that contains strings
instead of numbers (note that we can do math operations with booleans;
Python treats \texttt{True} as 1 and \texttt{False} as 0).

Double check that the column you're interested in is a numerical type
(\texttt{int}, \texttt{float}, or \texttt{double}). If it looks like a
number, but you're still getting this error, you can use
\texttt{.astype(...)}
(\href{https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.astype.html}{documentation})
to change the datatype of a \texttt{DataFrame} or \texttt{Series}.

\subsection{\texorpdfstring{\texttt{TypeError:\ Could\ not\ convert\ \textless{}string\textgreater{}\ to\ numeric}}{TypeError: Could not convert \textless string\textgreater{} to numeric}}\label{typeerror-could-not-convert-string-to-numeric}

Related to the above (but distinct), you may run into this error when
performing a numeric aggregation function (like \texttt{mean} or
\texttt{sum} functions that take integer arguments) after doing a
\texttt{groupby} operation on a \texttt{DataFrame} with non-numeric
columns.

Working with the \texttt{elections} dataset for example,

\begin{verbatim}
elections.groupby('Year').agg('mean')
\end{verbatim}

would error because \texttt{pandas} cannot compute the mean of the names
of presidents. There are two ways to get around this:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Select only the numeric columns you are interested in before applying
  the aggregation function. In the above case, both
  \texttt{elections.groupby(\textquotesingle{}Year\textquotesingle{}){[}\textquotesingle{}Popular\ Vote\textquotesingle{}{]}}
  or
  \texttt{elections{[}\textquotesingle{}Popular\ vote\textquotesingle{}{]}.groupby(\textquotesingle{}Year\textquotesingle{})}
  would work.
\item
  Setting the \texttt{numeric\_only} argument to \texttt{True} in the
  \texttt{.agg} call, thereby applying the aggregation function only to
  numeric columns. For example,
  \texttt{elections.groupby(\textquotesingle{}Year\textquotesingle{}).agg(\textquotesingle{}mean\textquotesingle{},\ numeric\_only=True)}.
\end{enumerate}

\subsection{\texorpdfstring{\texttt{TypeError:\ \textquotesingle{}NoneType\textquotesingle{}\ object\ is\ not\ subscriptable}
/
\texttt{AttributeError:\ \textquotesingle{}NoneType\textquotesingle{}\ object\ has\ no\ attribute\ \textquotesingle{}shape\textquotesingle{}}}{TypeError: \textquotesingle NoneType\textquotesingle{} object is not subscriptable / AttributeError: \textquotesingle NoneType\textquotesingle{} object has no attribute \textquotesingle shape\textquotesingle{}}}\label{typeerror-nonetype-object-is-not-subscriptable-attributeerror-nonetype-object-has-no-attribute-shape}

This usually occurs as you assign a \texttt{None} value to a variable,
then try to either index into or access some attribute of that variable.
For Python functions like \texttt{append} and \texttt{extend}, you do
not need to do any variable assignment because they mutate the variable
directly and return \texttt{None}. Assigning \texttt{None} tends to
happen as a result of code like:

\begin{verbatim}
some_list = some_list.append(element)
\end{verbatim}

In contrast, an operation like \texttt{np.append} does not mutate the
variable in place and, instead, returns a copy. In these cases,
(re)assignment is necessary:

\begin{verbatim}
some_array = np.append(some_array, element)
\end{verbatim}

\subsection{\texorpdfstring{\texttt{TypeError:\ \textquotesingle{}int\textquotesingle{}/\textquotesingle{}float\textquotesingle{}\ object\ is\ not\ subscriptable}}{TypeError: \textquotesingle int\textquotesingle/\textquotesingle float\textquotesingle{} object is not subscriptable}}\label{typeerror-intfloat-object-is-not-subscriptable}

This occurs when you try and index into an integer or other numeric
\texttt{Python} data type. It can be confusing to debug amidst a muddle
of code, but you can use the error message to identify which variable is
causing this error. Using \texttt{type(var\_name)} to check the data
type of the variable in question can be a good starting point.

\section{IndexErrors}\label{indexerrors}

\subsection{\texorpdfstring{\texttt{IndexError:\ invalid\ index\ to\ scalar\ variable.}}{IndexError: invalid index to scalar variable.}}\label{indexerror-invalid-index-to-scalar-variable.}

This error is similar to the last \texttt{TypeError} in the previous
section. However, it is slightly different in that scalar variables come
up in the context of \texttt{NumPy} data types which have slightly
different attributes.

For a concrete example, if you defined

\begin{verbatim}
numpy_arr = np.array([1])
\end{verbatim}

and indexed into it twice (\texttt{numpy\_arr{[}0{]}{[}0{]}}), you would
get the above error. Unlike a Python integer whose type is \texttt{int},
\texttt{type(numpy\_arr{[}0{]})} returns the \texttt{NumPy} version of
an integer, \texttt{numpy.int64}. Additionally, you can check the data
type by accessing the \texttt{.dtype} attribute of \texttt{NumPy} array
(\texttt{numpy\_arr.dtype}) or scalar variable
(\texttt{numpy\_arr{[}0{]}.dtype}).

\subsection{\texorpdfstring{\texttt{IndexError:\ index\ \_\ is\ out\ of\ bounds\ for\ axis\ \_\ with\ size\ \_}}{IndexError: index \_ is out of bounds for axis \_ with size \_}}\label{indexerror-index-_-is-out-of-bounds-for-axis-_-with-size-_}

This error usually happens when you try to index a value that's greater
than the size of the array/list/\texttt{DataFrame}/\texttt{Series}. For
example,

\begin{verbatim}
some_list = [2, 4, 6, 8]
\end{verbatim}

\texttt{some\_list} has a length of 4. Trying \texttt{some\_list{[}6{]}}
will error because index 6 is greater than the length of the array. Note
that \texttt{some\_list{[}4{]}} will also cause an \texttt{IndexError}
because Python and \texttt{pandas} uses zero indexing, which means that
the first element has index 0, the second element has index 1, etc.;
\texttt{some\_list{[}4{]}} would grab the fifth element, which is
impossible when the list only has 4 elements.

\section{ValueErrors}\label{valueerrors}

\subsection{\texorpdfstring{\texttt{ValueError:\ Truth\ value\ of\ a\ Series\ is\ ambiguous}}{ValueError: Truth value of a Series is ambiguous}}\label{valueerror-truth-value-of-a-series-is-ambiguous}

This error occurs when you apply Python logical operators (\texttt{or},
\texttt{and}, \texttt{not}), which only operate on a single boolean
values, to \texttt{NumPy} arrays or \texttt{Series} objects, which can
contain multiple values. The fix is to use bitwise operators
\texttt{\textbar{}}, \texttt{\&}, \texttt{\textasciitilde{}} ,
respectively, to allow for element-wise comparisons between values in
arrays or \texttt{Series}.

\subsection{\texorpdfstring{\texttt{ValueError:\ Can\ only\ compare\ identically-labeled\ Series\ objects}}{ValueError: Can only compare identically-labeled Series objects}}\label{valueerror-can-only-compare-identically-labeled-series-objects}

As the message would suggest, this error occurs when comparing two
\texttt{Series} objects that have different lengths. You can double
check the lengths of the \texttt{Series} using
\texttt{len(series\_name)} or \texttt{series\_name.size}.

\subsection{\texorpdfstring{\texttt{ValueError:\ -1\ is\ not\ in\ range}
/
\texttt{KeyError:\ -1}}{ValueError: -1 is not in range / KeyError: -1}}\label{valueerror--1-is-not-in-range-keyerror--1}

This error occurs when you try and index into a \texttt{Series} or
\texttt{DataFrame} as you would a Python list. Unlike a list where
passing an index of -1 gives the last element, \texttt{pandas}
interprets \texttt{df{[}-1{]}} as an attempt to find the row
corresponding to index -1 (that is, \texttt{df.loc{[}-1{]}}). If your
intention is to pick out the last row in \texttt{df}, consider using
integer-position based indexing by doing \texttt{df.iloc{[}-1{]}}. In
general, to avoid ambiguity in these cases, it is also good practice to
write out both the row and column indices you want with
\texttt{df.iloc{[}-1,\ :{]}}.



\end{document}
