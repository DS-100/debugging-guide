<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Autograder and Gradescope / Pensieve – Data 100 Debugging Guide</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../data100_logo.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-d279e387f5997211c97d65d1670dc95e.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar docked quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../autograder_gradescope/autograder_gradescope.html">Autograder and Gradescope / Pensieve</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../data100_logo.png" alt="Data 100 logo" class="sidebar-logo light-content py-0 d-lg-inline d-none">
      <img src="../data100_logo.png" alt="Data 100 logo" class="sidebar-logo dark-content py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Data 100 Debugging Guide</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/DS-100/debugging-guide" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../jupyter101/jupyter101.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Jupyter 101</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../jupyter_datahub/jupyter_datahub.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Jupyter / Datahub</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../autograder_gradescope/autograder_gradescope.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Autograder and Gradescope / Pensieve</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../pandas/pandas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pandas</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../regex/regex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RegEx</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../visualizations/visualizations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Visualizations</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../projA1/projA1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project A1 Common Questions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../projA2/projA2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Project A2 Common Questions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../sql/sql.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SQL Common Errors</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="3">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#autograder" id="toc-autograder" class="nav-link active" data-scroll-target="#autograder">Autograder</a>
  <ul>
  <li><a href="#understanding-autograder-error-messages" id="toc-understanding-autograder-error-messages" class="nav-link" data-scroll-target="#understanding-autograder-error-messages">Understanding autograder error messages</a></li>
  <li><a href="#why-do-i-get-an-error-saying-grader-is-not-defined" id="toc-why-do-i-get-an-error-saying-grader-is-not-defined" class="nav-link" data-scroll-target="#why-do-i-get-an-error-saying-grader-is-not-defined">Why do I get an error saying “<code>grader is not defined</code>”?</a></li>
  <li><a href="#im-positive-i-have-the-right-answer-but-the-test-fails.-is-there-a-mistake-in-the-test" id="toc-im-positive-i-have-the-right-answer-but-the-test-fails.-is-there-a-mistake-in-the-test" class="nav-link" data-scroll-target="#im-positive-i-have-the-right-answer-but-the-test-fails.-is-there-a-mistake-in-the-test">I’m positive I have the right answer, but the test fails. Is there a mistake in the test?</a></li>
  <li><a href="#why-does-the-last-grader.export-cell-fail-if-all-previous-tests-passed" id="toc-why-does-the-last-grader.export-cell-fail-if-all-previous-tests-passed" class="nav-link" data-scroll-target="#why-does-the-last-grader.export-cell-fail-if-all-previous-tests-passed">Why does the last <code>grader.export</code> cell fail if all previous tests passed?</a></li>
  <li><a href="#why-does-a-notebook-test-fail-now-when-it-passed-before-and-i-didnt-change-my-code" id="toc-why-does-a-notebook-test-fail-now-when-it-passed-before-and-i-didnt-change-my-code" class="nav-link" data-scroll-target="#why-does-a-notebook-test-fail-now-when-it-passed-before-and-i-didnt-change-my-code">Why does a notebook test fail now when it passed before, and I didn’t change my code?</a></li>
  </ul></li>
  <li><a href="#gradescopepensieve" id="toc-gradescopepensieve" class="nav-link" data-scroll-target="#gradescopepensieve">Gradescope/Pensieve</a>
  <ul>
  <li><a href="#why-did-a-gradescopepensieve-test-fail-when-all-the-jupyter-notebooks-tests-passed" id="toc-why-did-a-gradescopepensieve-test-fail-when-all-the-jupyter-notebooks-tests-passed" class="nav-link" data-scroll-target="#why-did-a-gradescopepensieve-test-fail-when-all-the-jupyter-notebooks-tests-passed">Why did a Gradescope/Pensieve test fail when all the Jupyter notebook’s tests passed?</a></li>
  <li><a href="#why-do-i-get-a-nameerror-name-___-is-not-defined-when-i-run-a-grader-check" id="toc-why-do-i-get-a-nameerror-name-___-is-not-defined-when-i-run-a-grader-check" class="nav-link" data-scroll-target="#why-do-i-get-a-nameerror-name-___-is-not-defined-when-i-run-a-grader-check">Why do I get a <code>NameError: name ___ is not defined</code> when I run a grader check?</a></li>
  <li><a href="#why-do-i-see-multiple-nameerror-name-___-is-not-defined-errors-for-all-questions-after-a-certain-point-on-gradescopepensieve" id="toc-why-do-i-see-multiple-nameerror-name-___-is-not-defined-errors-for-all-questions-after-a-certain-point-on-gradescopepensieve" class="nav-link" data-scroll-target="#why-do-i-see-multiple-nameerror-name-___-is-not-defined-errors-for-all-questions-after-a-certain-point-on-gradescopepensieve">Why do I see multiple <code>NameError: name ___ is not defined</code> errors for all questions after a certain point on Gradescope/Pensieve?</a></li>
  <li><a href="#my-autograder-keeps-runningtimed-out" id="toc-my-autograder-keeps-runningtimed-out" class="nav-link" data-scroll-target="#my-autograder-keeps-runningtimed-out">My autograder keeps running/timed out</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Autograder and Gradescope / Pensieve</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<details>
<summary>
Citation
</summary>
Many of these common questions were taken and modified from the UC San Diego course DSC 10: Principles of Data Science and their <a href="https://dsc10.com/debugging/">debugging guide</a>.
</details>
<section id="autograder" class="level2">
<h2 class="anchored" data-anchor-id="autograder">Autograder</h2>
<section id="understanding-autograder-error-messages" class="level3">
<h3 class="anchored" data-anchor-id="understanding-autograder-error-messages">Understanding autograder error messages</h3>
<p>When you pass a test, you’ll see a nice message and a cute emoji!</p>
<center>
<img src="passing_autograder.png" width="200" alt="Screenshot of a grader cell for question q2a with cell ouput 'q2a passed'">
</center>
<p>When you don’t, however, the message can be a little confusing.</p>
<center>
<img src="autograder_error.png" width="600" alt="Example of a cell output for a failing autograder test showing what test failed, what the code that was evaluated was, the expected output, and an error that was raised during the course of the test.">
</center>
<p><br></p>
<p>The best course of action is to find the test case that failed and use that as a starting point to debug your code.</p>
<center>
<img src="autograder_error_annot.png" width="700" alt="An annotated version of the previous image which includes the note 'The most useful error message is usually at the bottom'">
</center>
<p>In the example above, we see that the test case in green, <code>max_swing in set(bus['name'])</code>, is not passing. The actual output (in blue) is often hard to parse, so the best course of action is to:</p>
<ol type="1">
<li><p>Make a new (temporary) cell after the <code>grader.check(...)</code> cell. Please do not make a new cell in between the given code cell and the <code>grader.check(...)</code> cell, as it could mess with the results.</p></li>
<li><p>Copy and paste the failing test case into your temporary cell and run it.</p>
<ol type="a">
<li>If it’s giving you an error like in the example above, look at the last line of the error and use the Debugging Guide’s search functionality in the top left menu to find the corresponding guide.</li>
<li>If it’s not giving you an error, it’ll likely give you an output like <code>False</code>. This means that your code does not cause an error (yay!), but it returns an incorrect output. In these casses, inspect each individual element of the test case. The example above checks if <code>max_swing</code> is in <code>set(bus['name'])</code>, so it might be a good idea to display both variables and do a visual check.</li>
<li>If you’re still having issues, post on Ed!</li>
</ol></li>
<li><p>After your <code>grader.check(...)</code> passes, feel free to delete the temporary cell.</p></li>
</ol>
</section>
<section id="why-do-i-get-an-error-saying-grader-is-not-defined" class="level3">
<h3 class="anchored" data-anchor-id="why-do-i-get-an-error-saying-grader-is-not-defined">Why do I get an error saying “<code>grader is not defined</code>”?</h3>
<p>If it has been a while since you’ve worked on an assignment, the kernel will shut itself down to preserve memory. When this happens, all of your variables are forgotten, including the grader. That’s OK. The easiest way to fix this is by <a href="https://ds100.org/debugging-guide/jupyter101/jupyter101.html#restarting-kernel">restarting your kernel and rerunning all the cells</a>. To do this, in the top left menu, click <code>Kernel</code> -&gt; <code>Restart and Run All Cells</code>.</p>
</section>
<section id="im-positive-i-have-the-right-answer-but-the-test-fails.-is-there-a-mistake-in-the-test" class="level3">
<h3 class="anchored" data-anchor-id="im-positive-i-have-the-right-answer-but-the-test-fails.-is-there-a-mistake-in-the-test">I’m positive I have the right answer, but the test fails. Is there a mistake in the test?</h3>
<p>While you might see the correct answer displayed as the result of the cell, chances are your solution isn’t being stored in the answer variable. Make sure you are assigning the result to the answer variable and that there are no typos in the variable name. Finally, <a href="https://ds100.org/debugging-guide/jupyter101/jupyter101.html#restarting-kernel">restart your kernel and run all the cells in order</a>: <code>Kernel</code> -&gt; <code>Restart and Run All Cells</code>.</p>
</section>
<section id="why-does-the-last-grader.export-cell-fail-if-all-previous-tests-passed" class="level3">
<h3 class="anchored" data-anchor-id="why-does-the-last-grader.export-cell-fail-if-all-previous-tests-passed">Why does the last <code>grader.export</code> cell fail if all previous tests passed?</h3>
<p>This can happen if you “overwrite” a variable that is used in a question. For instance, say Question 1 asks you to store your answer in a variable named <code>stat</code> and, later on in the notebook, you change the value of <code>stat</code>; the test right after Question 1 will pass, but the test at the end of the notebook will fail. It is good programming practice to give your variables informative names and to avoid repeating the same variable name for more than one purpose.</p>
</section>
<section id="why-does-a-notebook-test-fail-now-when-it-passed-before-and-i-didnt-change-my-code" class="level3">
<h3 class="anchored" data-anchor-id="why-does-a-notebook-test-fail-now-when-it-passed-before-and-i-didnt-change-my-code">Why does a notebook test fail now when it passed before, and I didn’t change my code?</h3>
<p>You probably ran your notebook out of order. <a href="https://ds100.org/debugging-guide/jupyter101/jupyter101.html#running-cells">Re-run all previous cells</a> in order, which is how your code will be graded.</p>
</section>
</section>
<section id="gradescopepensieve" class="level2">
<h2 class="anchored" data-anchor-id="gradescopepensieve">Gradescope/Pensieve</h2>
<p>When submitting to Gradescope or Pensieve, there are often unexpected errors that make students lose more points than expected. Thus, it is imperative that you <strong>stay on the submission page until the autograder finishes running</strong>, and the results are displayed.</p>
<section id="why-did-a-gradescopepensieve-test-fail-when-all-the-jupyter-notebooks-tests-passed" class="level3">
<h3 class="anchored" data-anchor-id="why-did-a-gradescopepensieve-test-fail-when-all-the-jupyter-notebooks-tests-passed">Why did a Gradescope/Pensieve test fail when all the Jupyter notebook’s tests passed?</h3>
<p>This can happen if you’re running your notebook’s cells out of order. The autograder runs your notebook from top-to-bottom. If you’re defining a variable at the bottom of your notebook and using it at the top, the Gradescope/Pensieve autograder will fail because it doesn’t recognize the variable when it encounters it.</p>
<p>Another scenario where this can happen is if you defined a variable in an earlier cell but later changed its name or deleted it. While your current session’s kernel will “remember” the variable, the Gradescope/Pensieve autograder will not, because it runs the notebook from top to bottom with no variables pre-stored. As a result, it will not recognize the variable if it has been deleted or renamed, and will throw an error.</p>
<p>The third scenario where this can happen is if you do not save your notebook before running the final export cell, which generates a zip file containing your notebook and the necessary files. If you run the export cell without saving, the autograder will not have access to the most recent version of your notebook, which can lead to unexpected errors. It will rely on the state of the notebook at the time of the last save, so any changes made afterward will not be reflected in the autograder’s execution.</p>
<p>This is why we recommend first saving and then going into the top left menu and clicking <code>Kernel</code> -&gt; <code>Restart</code> -&gt; <code>Run All</code>. The autograder “forgets” all of the variables and runs the notebook from top-to-bottom like the Gradescope/Pensieve autograder does. This will highlight any issues.</p>
<p>Find the first cell that raises an error. Make sure that all of the variables used in that cell have been defined above that cell, and not below.</p>
</section>
<section id="why-do-i-get-a-nameerror-name-___-is-not-defined-when-i-run-a-grader-check" class="level3">
<h3 class="anchored" data-anchor-id="why-do-i-get-a-nameerror-name-___-is-not-defined-when-i-run-a-grader-check">Why do I get a <code>NameError: name ___ is not defined</code> when I run a grader check?</h3>
<p>This happens when you try to access a variable that has not been defined yet. Since the autograder runs all the cells in-order, if you happened to define a variable in a cell further down and accessed it before that cell, the autograder will likely throw this error. Another reason this could occur is because the notebook was not saved before the autograder tests are run. When in doubt, it is good practice to restart your kernel, run all the cells again, and save the notebook before running the cell that causes this error.</p>
</section>
<section id="why-do-i-see-multiple-nameerror-name-___-is-not-defined-errors-for-all-questions-after-a-certain-point-on-gradescopepensieve" class="level3">
<h3 class="anchored" data-anchor-id="why-do-i-see-multiple-nameerror-name-___-is-not-defined-errors-for-all-questions-after-a-certain-point-on-gradescopepensieve">Why do I see multiple <code>NameError: name ___ is not defined</code> errors for all questions after a certain point on Gradescope/Pensieve?</h3>
<p>This can happen if you import external packages when you are not instructed to do so. The base image on Gradescope/Pensieve includes only a specific list of pre-installed packages, defined by the course staff in the autograder. If you import a package that is not on this list, it will not be available to the autograder, even if you download the package correctly on your local Jupyter notebook environment. As a result, it will first encounter a <code>ModuleNotFoundError</code> when trying to import the package (though this error may not be shown to you), and then a <code>NameError</code> for every question afterward. Although this behavior is unintuitive, it’s a limitation of the autograder—only course staff can view certain output messages from your notebook to prevent cheating. If you encounter this issue, review your notebook’s imports and ensure you are not using any packages not included in the autograder environment.</p>
</section>
<section id="my-autograder-keeps-runningtimed-out" class="level3">
<h3 class="anchored" data-anchor-id="my-autograder-keeps-runningtimed-out">My autograder keeps running/timed out</h3>
<p>If your Gradescope submission page has been stuck running on this page for a while:</p>
<center>
<img src="gradescope_loading.png" width="350" alt="Autograder Results. The autograder hasn't finish running yet.">
</center>
<p>or if it times out:</p>
<center>
<img src="gradescope_timeout.png" width="650" alt="Autograder Results. In a red box 'The autograder failed to respond in the expected amount of time. If the autograder continues to fail, contact your course staff for help in debugging this issue. Make sure to include a link to this page so they can help you most effectively.'">
</center>
<p>it means that the Gradescope autograder failed to execute in the expected amount of time. TThis could be due to an inefficiency in your code or an issue on Gradescope’s end, so we recommend resubmitting and allowing the autograder to rerun. If the issue persists after a few attempts, you may need to investigate your code for inefficiencies.</p>
<p>For example, if you rerun all cells in your Jupyter notebook and notice that some cells take significantly longer to run than others, you might need to optimize those cells. Keep in mind that the time it takes to run all tests in your Jupyter notebook is not equivalent to the time it takes on Gradescope/Pensieve. However, it is proportional—if your notebook runs slowly on Datahub, it will likely run even more slowly on Gradescope/Pensieve, as the difference in runtime is amplified.</p>
<p><strong>It is your responsibility to ensure that the autograder runs properly</strong>, and if it still fails, you should follow up by making a private Ed post.</p>


</section>
</section>

</main> <!-- /main -->
<script>
    document.addEventListener("DOMContentLoaded", function() {
    // 1. Select the specific parent div within the callout header that has the 
    //    collapse attributes (data-bs-toggle).
    var calloutToggles = document.querySelectorAll(
        '.callout-header[data-bs-toggle="collapse"]'
    );

    calloutToggles.forEach(function(toggle) {
        // 2. Force the ARIA role to be 'button'
        // This is crucial because a 'div' is not allowed to use aria-expanded.
        toggle.setAttribute('role', 'button');
        
        // 3. Ensure it is keyboard-focusable (critical accessibility fix)
        if (toggle.getAttribute('tabindex') === null) {
             toggle.setAttribute('tabindex', '0');
        }
    });

    // 1. Target all code blocks (Source Code and Code Output <pre> elements)
    // that are scrollable (have overflow:auto/scroll).
    var scrollableRegions = document.querySelectorAll(
        // 1. Source Code <pre>
        'div.sourceCode > pre, ' + 
        // 2. Output <pre> inside a generic cell-output
        '.cell-output > pre, ' + 
        // 3. The main DIV container for cell-output-display (from previous fix)
        '.cell-output-display.cell-output, ' +
        // 4. PRE tag inside any ANSI-escaped output (e.g., .ansi-escaped-output > pre)
        '.ansi-escaped-output > pre, ' +
        // 5. The deepest container for error output (e.g., #ID > .cell-output-error... > .ansi-escaped-output > pre)
        '.cell-output-error.cell-output > .ansi-escaped-output > pre, ' +
        // Target any PRE tag that has an ID attribute
        'pre[id], ' + 
        // code blocks inside list items
        'li > pre, ' + 
        // PRE tags within an output display container
        '.cell-output-display > pre'
    );

    scrollableRegions.forEach(function(region) {
        // Check if the element actually has horizontal overflow (is scrollable)
        // Add tabindex="0" to make the region keyboard-focusable.
        if (region.getAttribute('tabindex') === null || region.getAttribute('tabindex') === undefined) {
             region.setAttribute('tabindex', '0');
        }
    });
});
</script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/ds100\.org\/debugging-guide\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="https://dap.berkeley.edu/get-help/report-web-accessibility-issue">
<p>Accessibility</p>
</a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://ophd.berkeley.edu/policies-and-procedures/nondiscrimination-policy-statement">
<p>Nondiscrimination</p>
</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>